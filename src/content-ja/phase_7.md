## Phase 7: デプロイとバリデーション

**目的**: スキルを適切な場所に配置し、仕様に準拠しているか検証する

### Step 1: 配置先の決定

| 配置先 | スコープ | 用途 |
|--------|---------|------|
| `.github/skills/` / `.claude/skills/` / `.agents/skills/` | プロジェクト（チーム共有） | チーム標準、プロジェクト固有 |
| `~/.claude/skills/` / `~/.copilot/skills/` | 個人（全プロジェクト） | 個人の生産性向上 |
| Plugin | 配布可能 | コミュニティ公開 |

**スキル優先順位** (同名の場合):  enterprise > personal > project

Plugin スキルは `plugin-name:skill-name` 名前空間を使用するため競合しない。

> VS Code では `chat.agentSkillsLocations` 設定で追加の検索パスを構成可能。

### Step 2: Cross-surface の考慮

スキルは **surface 間で自動同期されない**。それぞれ別途デプロイが必要：

| Surface | デプロイ方法 | 共有スコープ |
|---------|-------------|----------|
| Claude Code | ファイルシステム配置 | 個人 or プロジェクト |
| claude.ai | 設定からZIPアップロード | 個人のみ（チーム共有不可） |
| Claude API | `/v1/skills` エンドポイント | ワークスペース全体 |

### Step 3: セキュリティ確認

スキルはソフトウェアインストールと同等のリスクがある。**信頼できるソースのスキルのみ使用する**。

チーム/公開スキル作成時の確認事項：
- [ ] スクリプトに予期しないネットワーク呼び出しがないか
- [ ] ファイルアクセスパターンが適切か
- [ ] 外部URLからデータをフェッチしていないか（悔毒的インジェクションのリスク）
- [ ] `allowed-tools` で必要最小限のツールのみ許可しているか

### Step 4: バリデーション

```bash
# frontmatter の仕様準拠を自動検証
skills-ref validate ./my-skill
```

手動確認：
- [ ] `name` がディレクトリ名と一致しているか
- [ ] `description` が「何をするか」+「いつ使うか」を含むか
- [ ] SKILL.md 本文が 500行以下か
- [ ] ファイル参照が1レベルの深さか
- [ ] 相対パスを使用しているか

---

